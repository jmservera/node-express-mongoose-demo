{
    "apiVersion": "vlabs",
    "properties": {
      "orchestratorProfile": {
        "orchestratorType": "SwarmMode"
      },
      "masterProfile": {
        "count": 3,
        "dnsPrefix": "jmserveraswarm",
        "vmSize": "Standard_D2_v2"
      },
      "agentPoolProfiles": [
        {
          "name": "agentpublic",
          "count": 3,
          "vmSize": "Standard_D2_v2",
          "dnsPrefix": "jmserverapublic",
          "ports": [
            80,
            443,
            8080
          ]
        }
      ],
      "linuxProfile": {
        "adminUsername": "azureuser",
        "ssh": {
          "publicKeys": [
            {
              "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAt0KO54pf/hI8Ix0StbCvpn8xm1EakIVtS19VM9C9c3OOdTHIet7a/erIIpVUwlOyFwPr0OyDYLEZZVtTQoLIeppHX8uevgTAqHmSTNX21q61G3rooPkU5fgDwNTtjZ071seMlVnqKa++aPN73158NpnEEm8BMrxPCy+HjNcMLQSlG/BZ9tr3vUH/YJxCApuVlOovRl8Bvv5hp7fKiPHL8mGXfCKNcOyhzzbAhZpnPIO2Ibl+IVz053D+P0Uv5SKEUMs+MpzenthTR3QpoVrbw3IL6MV34azWB5UAYcbGjMlxlYNqmcLQtUygqEhlD4rcbv0LrNxFyYtfdk/QBM9jSQ== rsa-key-20170525"
            }
          ]
        }
      }
    }
  }